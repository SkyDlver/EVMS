import{s as v}from"./index-BLdVeYm2.js";import{s as y}from"./index-R0DRYe8f.js";import{s as _}from"./index-CO4OI02m.js";import{s as w}from"./index-B4tznPjQ.js";import{_ as k}from"./FloatingConfigurator-B5QjqR3r.js";import{_ as V,r as i,b6 as I,b7 as L,aH as S,o as U,c as $,b as r,a as s,H as P}from"./index-DgT4DOAQ.js";import"./index-Cl5bOYF1.js";import"./index-CzNr_vQi.js";import"./index-bwxsmFDw.js";import"./index-L_h4zibo.js";const B={class:"bg-surface-50 dark:bg-surface-950 flex items-center justify-center min-h-screen min-w-[100vw] overflow-hidden"},F={class:"flex flex-col items-center justify-center"},j={style:{"border-radius":"56px",padding:"0.3rem",background:"linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)"}},C={class:"w-full bg-surface-0 dark:bg-surface-900 py-20 px-8 sm:px-20",style:{"border-radius":"53px"}},N={class:"flex items-center justify-between mt-2 mb-8 gap-8"},H={class:"flex items-center"},M={__name:"Login",setup(R){const l=i(""),n=i(""),p=i(!1),m=i(!1),{proxy:f}=I(),b=L(),d=S(),g=async()=>{var u,e;if(!l.value||!n.value){d.add({severity:"warn",summary:"Missing Fields",detail:"Please enter your username and password.",life:3e3});return}try{m.value=!0;const t=await f.$api.post("/api/login",{username:l.value,password:n.value}),{token:c,user:a}=t.data;localStorage.setItem("token",c),localStorage.setItem("user",JSON.stringify(a)),d.add({severity:"success",summary:"Login Successful",detail:`Welcome, ${(a==null?void 0:a.name)||"User"}!`,life:3e3}),b.push("/")}catch(t){console.error(t),d.add({severity:"error",summary:"Login Failed",detail:((e=(u=t.response)==null?void 0:u.data)==null?void 0:e.message)||"Invalid credentials.",life:3e3})}finally{m.value=!1}};return(u,e)=>{const t=w,c=_,a=y,x=v;return U(),$(P,null,[r(k),s("div",B,[s("div",F,[s("div",j,[s("div",C,[e[7]||(e[7]=s("div",{class:"text-center mb-8"},[s("div",{class:"text-surface-900 dark:text-surface-0 text-3xl font-medium mb-4"}," Welcome to PrimeLand! "),s("span",{class:"text-muted-color font-medium"},"Sign in to continue")],-1)),s("div",null,[e[5]||(e[5]=s("label",{for:"username",class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"}," Username ",-1)),r(t,{modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=o=>l.value=o),placeholder:"Username",class:"w-full md:w-[30rem] mb-8",pt:{input:{id:"username"}}},null,8,["modelValue"]),e[6]||(e[6]=s("label",{for:"password",class:"block text-surface-900 dark:text-surface-0 font-medium text-xl mb-2"}," Password ",-1)),r(c,{modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=o=>n.value=o),placeholder:"Password",toggleMask:!0,class:"mb-4",fluid:"",feedback:!1,pt:{input:{id:"password"}}},null,8,["modelValue"]),s("div",N,[s("div",H,[r(a,{modelValue:p.value,"onUpdate:modelValue":e[2]||(e[2]=o=>p.value=o),binary:"",class:"mr-2",pt:{input:{id:"rememberme"}}},null,8,["modelValue"]),e[3]||(e[3]=s("label",{for:"rememberme"},"Remember me",-1))]),e[4]||(e[4]=s("span",{class:"font-medium no-underline ml-2 text-right cursor-pointer text-primary"}," Forgot password? ",-1))]),r(x,{loading:m.value,label:"Sign In",class:"w-full",onClick:g},null,8,["loading"])])])])])])],64)}}},G=V(M,[["__scopeId","data-v-82ada5b4"]]);export{G as default};
