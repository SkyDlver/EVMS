import{s as y}from"./index-BEj4KcLD.js";import{s as _}from"./index-D6U9lRec.js";import{s as w}from"./index-CLVMTeQ1.js";import{s as k}from"./index-D6odhD5j.js";import{_ as V}from"./FloatingConfigurator-mV8FiDt-.js";import{_ as L,r as i,b8 as U,b9 as $,ba as I,aH as P,o as S,c as h,b as r,a as s,H as B}from"./index-DZ6pyUV_.js";import"./index-D-qnh6E1.js";import"./index-DS1QBUwf.js";import"./index-DZMaiIJm.js";import"./index-68a8mEJ9.js";const F={class:"bg-surface-50 dark:bg-surface-950 flex items-center justify-center min-h-screen min-w-[100vw] overflow-hidden"},j={class:"flex flex-col items-center justify-center"},C={style:{"border-radius":"56px",padding:"0.3rem",background:"linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)"}},A={class:"w-full bg-surface-0 dark:bg-surface-900 py-20 px-8 sm:px-20",style:{"border-radius":"53px"}},H={class:"flex items-center justify-between mt-2 mb-8 gap-8"},M={class:"flex items-center"},N={__name:"Login",setup(R){const l=i(""),n=i(""),p=i(!1),d=i(!1),f=U(),{proxy:b}=$(),x=I(),m=P(),g=async()=>{var u,e;if(!l.value||!n.value){m.add({severity:"warn",summary:"Missing Fields",detail:"Please enter your username and password.",life:3e3});return}try{d.value=!0;const t=await b.$api.post("/api/login",{username:l.value,password:n.value}),{token:c,user:a}=t.data;f.setAuth(c,a),m.add({severity:"success",summary:"Login Successful",detail:`Welcome, ${(a==null?void 0:a.name)||"User"}!`,life:3e3}),x.push("/pages/crud")}catch(t){console.error(t),m.add({severity:"error",summary:"Login Failed",detail:((e=(u=t.response)==null?void 0:u.data)==null?void 0:e.message)||"Invalid credentials.",life:3e3})}finally{d.value=!1}};return(u,e)=>{const t=k,c=w,a=_,v=y;return S(),h(B,null,[r(V),s("div",F,[s("div",j,[s("div",C,[s("div",A,[e[7]||(e[7]=s("div",{class:"text-center mb-8"},[s("div",{class:"text-surface-900 dark:text-surface-0 text-3xl font-medium mb-4"}," Welcome to PrimeLand! "),s("span",{class:"text-muted-color font-medium"},"Sign in to continue")],-1)),s("div",null,[e[5]||(e[5]=s("label",{for:"username",class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"}," Username ",-1)),r(t,{modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=o=>l.value=o),placeholder:"Username",class:"w-full md:w-[30rem] mb-8",pt:{input:{id:"username"}}},null,8,["modelValue"]),e[6]||(e[6]=s("label",{for:"password",class:"block text-surface-900 dark:text-surface-0 font-medium text-xl mb-2"}," Password ",-1)),r(c,{modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=o=>n.value=o),placeholder:"Password",toggleMask:!0,class:"mb-4",fluid:"",feedback:!1,pt:{input:{id:"password"}}},null,8,["modelValue"]),s("div",H,[s("div",M,[r(a,{modelValue:p.value,"onUpdate:modelValue":e[2]||(e[2]=o=>p.value=o),binary:"",class:"mr-2",pt:{input:{id:"rememberme"}}},null,8,["modelValue"]),e[3]||(e[3]=s("label",{for:"rememberme"},"Remember me",-1))]),e[4]||(e[4]=s("span",{class:"font-medium no-underline ml-2 text-right cursor-pointer text-primary"}," Forgot password? ",-1))]),r(v,{loading:d.value,label:"Sign In",class:"w-full",onClick:g},null,8,["loading"])])])])])])],64)}}},Q=L(N,[["__scopeId","data-v-d31e46ff"]]);export{Q as default};
